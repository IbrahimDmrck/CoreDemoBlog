<div class="comment-top">
    <h4>Bir Yorum Bırak</h4>
    <div class="comment-bottom">
        <form action="/Comment/PartialAddComment/" method="post">
            <input type="hidden" id="blogId" value="@ViewBag.BlogId" />
            <input class="form-control" type="text" id="commentUserName" name="CommentUserName" placeholder="Ad-Soyad" required="">
            <input class="form-control" type="text" id="commentTitle" name="CommentTitle" placeholder="Konu" required="">
            <textarea class="form-control" id="commentContent" name="CommentContent" placeholder="Yorumunuz..." required=""></textarea>
            <button type="submit" id="cmm" class="btn btn-primary submit">Yorum Yap</button>
        </form>
    </div>
</div>


@* Burada ajax ın kullanılması gerek *@

<script type="text/javascript">

    $("#cmm").click(function () {
        let comment = {
            BlogId: $("#blogId").val(),
            CommentUserName: $("#commentUserName").val(),
            CommentTitle: $("#commentTitle").val(),
            CommentContent: $("#commentContent").val()

        };
        $.ajax({
            contentType: "Post",
            url: "/Comment/PartialAddComment/",
            data: comment,
            success: function (func) {
                alert("Yorumunuz Alındı.");
            },
            error: function (func) {
                if (comment.CommentContent == "" || comment.CommentTitle == "" || comment.CommentUserName=="") {
                    alert("TÜm alanları doldurunuz");
                }else {
                    alert("Bir hata oluştu lütfen daha sonra tekrar deneyiniz.");
                }
                
            }
        });
    });

</script>

<script src="https://code.jquery.com/jquery-3.5.1.min.js" type="text/javascript"></script>